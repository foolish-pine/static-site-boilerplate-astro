pre-commit:
  parallel: true
  jobs:
    - name: lint-and-format
      group:
        piped: true
        jobs:
          - group:
              parallel: true
              jobs:
                - run: npm run fix:eslint {staged_files}
                  glob: "*.{astro,js,cjs,mjs,ts}"
                - run: npm run fix:stylelint {staged_files}
                  glob: "*.{astro,css}"
          - run: npm run fix:prettier --files={staged_files}
    - name: validate-astro
      run: npm run check:astro
      glob: "*.{astro,js,cjs,mjs,ts}"
